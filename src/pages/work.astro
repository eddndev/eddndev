---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/layout/Footer.astro';
import ProjectList from '../components/work/ProjectList.astro';
import { getCollection } from 'astro:content';

// Obtener proyectos (para SEO o uso futuro en esta misma página)
const projects = await getCollection('work');
projects.sort((a, b) => (Number(b.data.year) - Number(a.data.year)));
---

<Layout 
    title="Proyectos | edd n' dev"
    description="Explora nuestra selección de trabajos digitales, desde aplicaciones web hasta experimentos creativos."
>
    <!-- HERO -->
    <div id="hero" class="relative min-h-[100dvh] w-full flex flex-col justify-center lg:justify-end pt-32 pb-0 lg:pb-24 overflow-hidden border-b border-white/10">
      <!-- Ambient blob -->
      <div class="absolute bottom-0 right-0 translate-x-1/3 translate-y-1/3 w-[800px] h-[800px] rounded-full bg-purple-500 opacity-[0.07] blur-[150px] pointer-events-none z-0"></div>

      <!-- Fondo Animado Específico para Work -->
      <div id="ledding-work-container" class="absolute inset-0 z-0 opacity-40"></div>

      <!-- Vignette -->
      <div id="hero-vignette"
           class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent pointer-events-none z-10">
      </div>

      <!-- Contenido Principal -->
      <div class="relative z-20 w-full px-6 sm:px-12 max-w-[1800px] mx-auto">
        <header class="flex flex-col items-start">
          <div class="flex items-center gap-3 mb-4 lg:mb-6 opacity-70">
            <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse shadow-[0_0_8px_#a855f7]"></div>
            <span class="font-mono text-sm sm:text-base md:text-lg lg:text-sm 2xl:text-base tracking-widest uppercase text-gray-300">Archivo de Sistemas // 2020-2026</span>
          </div>

          <h1 class="font-black tracking-tighter text-white leading-[0.85] text-[clamp(3.5rem,11vw,12rem)] 2xl:text-[clamp(5rem,11vw,16rem)] mix-blend-screen">
            PROYECTOS <br>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-200">SELECCIONADOS</span>
          </h1>

          <div class="mt-8 lg:mt-12 grid grid-cols-1 lg:grid-cols-12 gap-8 w-full border-t border-white/10 pt-8">
            <div class="lg:col-span-5">
              <p class="text-lg sm:text-xl md:text-2xl lg:text-xl 2xl:text-2xl text-gray-300 font-light leading-relaxed max-w-xl 2xl:max-w-2xl">
                Una exhibición de <span class="text-white font-medium">soluciones técnicas</span> y ecosistemas visuales diseñados para escalar, impactar y perdurar.
              </p>
            </div>
          </div>
        </header>
      </div>
    </div>

    <!-- MAIN CONTENT AREA -->
    <main class="bg-black relative z-10">
        <ProjectList projects={projects} />
    </main>

    <Footer />
</Layout>
