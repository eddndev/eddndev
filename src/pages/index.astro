---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import Footer from '../components/layout/Footer.astro';
import Focus from '../components/sections/Focus.astro';
import ProjectGrid from '../components/work/ProjectGrid.astro';

// Get all projects for the list
const projects = await getCollection('work');
// Sort by year desc
projects.sort((a, b) => (Number(b.data.year) - Number(a.data.year)));
---

<Layout title="edd n' dev">

    <!-- HERO -->
    <div id="hero" class="relative min-h-screen w-full flex flex-col justify-center lg:justify-end pt-32 pb-0 lg:pb-24 overflow-hidden">
      <!-- Fondo Animado -->
      <div id="ledding-animation-container" class="absolute inset-0 z-0"></div>

      <!-- Vignette -->
      <div id="hero-vignette"
           class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent pointer-events-none z-10">
      </div>

      <!-- Contenido Principal -->
      <div class="relative z-20 w-full px-6 sm:px-12 max-w-[1800px] mx-auto">
        <header class="flex flex-col items-start">
          <div class="flex items-center gap-3 mb-4 lg:mb-6 opacity-70">
            <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse"></div>
            <span class="font-mono text-sm sm:text-base md:text-lg lg:text-sm 2xl:text-base tracking-widest uppercase text-gray-300">eddndev studio &bull; est. 2020</span>
          </div>

      <!-- Título Masivo -->
      <h1 class="font-black tracking-tighter text-white leading-[0.85] text-[clamp(3.5rem,11vw,12rem)] 2xl:text-[clamp(5rem,11vw,16rem)] mix-blend-screen">
        ESTUDIO <br>
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-200">FULL STACK</span>
      </h1>

          <div class="mt-8 lg:mt-12 grid grid-cols-1 lg:grid-cols-12 gap-8 w-full border-t border-white/10 pt-8">
                    <div class="lg:col-span-5">
                      <p class="text-lg sm:text-xl md:text-2xl lg:text-xl 2xl:text-2xl text-gray-300 font-light leading-relaxed max-w-xl 2xl:max-w-2xl">
                        Fusionamos <span class="text-white font-medium">ingeniería de software</span> con diseño de alto impacto. 
                        Creamos ecosistemas digitales escalables, rápidos y visualmente inmersivos.
                      </p>
                    </div>
            <div class="lg:col-span-7 flex flex-col sm:flex-row items-start sm:items-center gap-6 lg:justify-end">
               <a href="mailto:contacto@eddndev.com" data-cursor-text="INICIAR" class="group relative px-8 py-4 2xl:px-10 2xl:py-5 2xl:text-lg bg-white text-black font-bold rounded-full overflow-hidden transition-transform hover:scale-105">
                  <span class="relative z-10 group-hover:text-purple-700 transition-colors">Iniciar Proyecto</span>
               </a>
               
               <a href="https://wa.me/5215622101391" target="_blank" data-cursor-text="CHAT" class="group flex items-center gap-2 text-white font-medium 2xl:text-lg hover:text-purple-300 transition-colors">
                  <span>Hablemos por WhatsApp</span>
                  <svg class="w-4 h-4 2xl:w-5 2xl:h-5 transition-transform group-hover:translate-x-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M13 5l7 7-7 7"/></svg>
               </a>
            </div>
          </div>
        </header>
      </div>
    </div>

    <!-- SECTIONS -->
    <Focus />

    <!-- PROJECTS PREVIEW -->
    <section id="work" class="bg-black text-white border-t border-white/10 relative overflow-hidden">
        <!-- Structural Grid -->
        <div class="absolute inset-0 pointer-events-none select-none max-w-[1800px] mx-auto px-6 sm:px-12">
        </div>
    
        <div class="mx-auto max-w-[1800px] relative z-10">
            <!-- Header -->
            <div class="px-6 sm:px-12 py-24 lg:pt-32 lg:pb-20">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                    <div class="lg:col-span-5">
                        <div class="text-xs 2xl:text-sm font-mono text-purple-400 tracking-widest mb-4 reveal-text">
                            [ 04 · INDEX ]
                        </div>
                        <h2 class="text-4xl sm:text-5xl md:text-6xl lg:text-6xl 2xl:text-7xl font-black tracking-tighter leading-[0.9] reveal-text">
                            NUESTRO <br> <span class="text-purple-400">TRABAJO.</span>
                        </h2>
                    </div>
                </div>
            </div>
    
            <!-- Project Grid Component -->
            <div class="px-6 sm:px-12 pb-32">
                <ProjectGrid projects={projects} />
            </div>
    
        </div>
    </section>

    <Footer />

</Layout>